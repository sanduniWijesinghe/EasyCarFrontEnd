<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer register</title>

    <link rel="stylesheet" href="Assest/css/bootstrap.min.css">
    <link rel="stylesheet" href="Assest/css/customer.css">

</head>
<body>
<div class="topBar">
<h3 style="color: white;position: relative; top: 11px;left: 33px;">Stitch-Line</h3>
</div>

<section class="loginPanalFormMain">

<section class="loginPanel" id="secCreateAccount">
    <div class="container" style="margin-top: 100px;border: white 3px solid;border-radius: 12px;">
        <div class="row">
            <div class="col-7">
                <h1 style="color: white;    font-size: 31px;">Registration</h1>
                <form id="frmCreateAccount">
                    <div class="form-row">
                        <div class="form-group col-md-5">
                            <label for="txtCreateAccountUserName">User Name</label>
                            <input class="form-control" id="txtCreateAccountUserName" type="text">
                        </div>
                        <div class="form-group col-md-5" style="margin-left: 17px;">
                            <label for="txtCreateAccountPassword">Password</label>
                            <input class="form-control" id="txtCreateAccountPassword" type="email">
                        </div>

                    </div>
                    <div class="form-group col-md-6">
                        <label for="txtCreateAccountName">Name</label>
                        <input class="form-control" id="txtCreateAccountName" type="text">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="txtCreateAccountMobile">Mobile Number</label>
                        <input class="form-control" id="txtCreateAccountMobile" type="text">
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="txtCreateAccountDOB">Date of Birth</label>
                            <input class="form-control" id="txtCreateAccountDOB" type="password">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="txtCreateAccountGender">Gender</label>
                            <input class="form-control" id="txtCreateAccountGender" type="text">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="txtCreateAccountLanguage">Language</label>
                            <input class="form-control" id="txtCreateAccountLanguage" type="text">
                        </div>
                    </div>

                    <button id="btnCreateNewAccount" class="btn btn-primary"
                            style="margin-left: 10px;margin-bottom: 10px ;    height: 40px;" type="button">
                        <p style="color: white;text-decoration: none">Create Account </p></button>

                </form>
            </div>
            <div class="col-4">

                <img class="Create-Acc-img"  alt="" height="auto" src="Assest/img/s11.gif" width="287px">
            </div>
        </div>
    </div>
</section>

</section>
<script src="Assest/js/jquery-3.6.0.min.js"></script>
<script src="Assest/js/bootstrap.min.js"></script>

<script>

    function genarateRentID() {
        $.ajax({
            method: 'get',
            url: "http://localhost:8080/EasyCarBackEnd_war_exploded/customer/lastID/customer",
            contentType: "application/json",
            async: true,
            success: function (res) {
                console.log(res.data)
                try {
                    let lastOID = res.data;
                    let newOID = parseInt(lastOID.substring(1, 4)) + 1;
                    if (newOID < 10) {
                        $('#txtCreateAccountNIC').val("C00" + newOID);

                    } else if (newOID < 100) {
                        $('#txtCreateAccountNIC').val("C0" + newOID);
                    } else {
                        $('#txtCreateAccountNIC').val("C" + newOID);
                    }
                } catch (e) {
                    $('#txtCreateAccountNIC').val("C001");
                }

                // console.log(reqID)


            }
        })
    }

    genarateRentID();


    $('#btnCreateNewAccount').click(function () {

        console.log("helloo");

        let customerUserName = $('#txtCreateAccountUserName').val();
        let customerPassword = $('#txtCreateAccountPassword').val();
        let customerName = $('#txtCreateAccountName').val();
        let customerMobile = $('#txtCreateAccountMobile').val();
        let customerDOB = $('#txtCreateAccountDOB').val();
        let customerGender = $('#txtCreateAccountGender').val();
        let customerLanguage = $('#txtCreateAccountLanguage').val();


        // Add customer----------------

            let customerObject ={
                "username": customerUserName,
                "password": customerPassword,
                "name": customerName,
                "mobile": customerMobile,
                "dob": customerDOB,
                "gender": customerGender,
                "language": customerLanguage,

            }





    function clearAllTxt() {
        let customerUserName = $('#txtCreateAccountUserName').val();
        let customerPassword = $('#txtCreateAccountPassword').val();
        let customerName = $('#txtCreateAccountName').val();
        let customerMobile = $('#txtCreateAccountMobile').val();
        let customerDOB = $('#txtCreateAccountDOB').val();
        let customerGender = $('#txtCreateAccountGender').val();
        let customerLanguage = $('#txtCreateAccountLanguage').val();

    }


</script>
</body>
</html>